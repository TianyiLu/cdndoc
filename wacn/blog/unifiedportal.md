# 新版Windows Azure CDN管理门户正式上线

经过产品团队的不懈努力，新版Windows Azure CDN管理门户在经过了有限开放预览之后，已经正式上线并开放给所有用户。

新版Windows Azure CDN管理门户经过全新的设计，除了在使用易用性、视觉展示效果等方面有所提升外，还增加了多个用户需求很高的功能模块。本文简要介绍了这些新增特性，更多详细内容请登入新版Windows Azure CDN管理门户体验。


## 概览
下面是新版CDN管理门户的首页：

![概览][1]

目前新版CDN管理门户提供了如下功能：

- 域名管理
- 流量报表
- 带宽报表
- 缓存刷新
- 内容预取 
- 日志下载
- 服务检查

下面就针对上述功能进行具体介绍。

## 功能模块

### 1. 域名管理
当您在左侧的导航窗格中单击 “域名管理”时，将显示您目前已经创建的所有CDN加速域名的列表视图。 你可以通过Azure订阅下拉列表选择不同的订阅查看不同订阅下的CDN加速域名信息。同时可以对加速域名进行“修改配置”，“缓存规则配置”和“访问控制管理”。
![][2]

#### 修改加速域名配置

您可以通过加速域名的“修改配置”功能，对“源站地址”和“回源域名”进行特殊配置。

首先解释一下“源站地址（回源地址）”和“回源域名（回源host header）”的区别。回源地址表示源站实际可以被访问到的地址，可以是IP也可以是域名。如果是域名，CDN在回源是会对该域名进行地址解析，然后用解析出来的IP再进行访问。回源域名表示CDN回源时，HTTP请求头（request header）中的Host字段值。这个字段值一般是域名形式的字符串，被源站用来识别是否与源站服务器上配置的域名相同。


![][5]


#### 修改缓存规则

系统已经针对不同的CDN加速类型提供了默认的缓存规则。您可以在这里进行定制化修改。

![][3]

#### 访问控制管理

您可以在这里进行防盗链等相关配置。

![][4]

### 2. 流量报表
您可以在这个功能模块里查看同一个Azure订阅下的一个或多个加速域名的流量（包括回源）信息，可以按预设的或者自行指定的时间范围来查看。

![][6]


### 3. 带宽报表
您可以在这个功能模块里查看同一个Azure订阅下的一个或多个加速域名的带宽（包括回源）信息，可以按预设的或者自行指定的时间范围来查看。

![][7]

### 4. 缓存刷新

当您在左侧的导航窗格中单击 “缓存刷新”时，可以对指定的文件或者目录进行手动刷新，以达到强制更新缓存内容的目的。
您可以选择要查询的订阅（单选）、状态、时间范围、加速域名（单选），单击查询刷新结果后界面将显示符合条件的缓存刷新记录，数据格式及含义请参见实际页面中的详细说明。

![][8]

### 5. 内容预取
当您在左侧的导航窗格中单击 “内容预取”时，可以对指定的文件进行内容预取和预取进度查询操作。

内容预取是指预先将指定URL的内容从源站缓存到CDN节点，这样可以消除用户第一次访问该资源时的等待时间。内容预取一般被用在进行大文件分发时的场景，可以有效的提升用户访问体验。 

![][9]

### 6. 日志下载
单击左侧的导航窗格中 “日志下载”，可以对指定的域名设置CDN原始日志下载相关参数。

日志下载需要用户首先提供一个 Azure Storage Account 用以存放CDN日志。日志以 blob 的形式存放在名为 "cdn-access-logs"的容器中。每个blob是一个GZip压缩后的CSV文件。在“下载设置”视图中，用户可以设置存储账号，以及需要下载日志的域名。设置完成后，系统会把搜集到的日志自动存放到指定的存储账号中。 用户可以删除存储账号以取消日志下载。

日志格式详解请参考Windows Azure CDN管理门户帮助文档下面的服务检查。

![][10]

### 7. 服务检查

## 后续更新
本文对新版Windows Azure CDN管理门户的主要功能做了简单的介绍，请登录新版管理门户获得详细信息。接下来产品团队会进一步改进新版Windows Azure CDN管理门户，更加有针对性的提升用户体验，逐步增加用户需要的其他功能模块。敬请期待！

更多Windows Azure CDN详情，请参阅[Windows Azure CDN技术文档](http://www.windowsazure.cn/documentation/services/cdn/)。

如果您对我们的产品有任何意见或者建议，欢迎到我们的[产品反馈页面](http://www.windowsazure.cn/product-feedback)进行反馈。我们的产品团队会针对您的反馈对产品做出改进。



<!--Image references-->
[1]: ./img/001.png
[2]: ./img/002.png
[3]: ./img/003.png
[4]: ./img/004.png
[5]: ./img/005.png
[6]: ./img/006.png
[7]: ./img/007.png
[8]: ./img/008.png
[9]: ./img/009.png
[10]: ./img/010.png